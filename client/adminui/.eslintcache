[{"/home/mack/Documents/Admin/Admin-App/client/adminui/src/index.js":"1","/home/mack/Documents/Admin/Admin-App/client/adminui/src/App.js":"2","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/sidebar/sidebar.js":"3","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/overview/overview.js":"4","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/driverRegistration/driverRegistration.js":"5","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/rideOverview/rideOverview.js":"6","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/deliveryOverview/deliveryOverview.js":"7","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/driversList/driverList.js":"8","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/passengersList/passengerList.js":"9","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/partners/partnersAdmin.js":"10"},{"size":670,"mtime":1612857568214,"results":"11","hashOfConfig":"12"},{"size":1200,"mtime":1613434657293,"results":"13","hashOfConfig":"12"},{"size":1894,"mtime":1613433896063,"results":"14","hashOfConfig":"12"},{"size":8253,"mtime":1613478068939,"results":"15","hashOfConfig":"12"},{"size":27008,"mtime":1613476088948,"results":"16","hashOfConfig":"12"},{"size":27833,"mtime":1613478123799,"results":"17","hashOfConfig":"12"},{"size":27078,"mtime":1613477821776,"results":"18","hashOfConfig":"12"},{"size":4811,"mtime":1613478041030,"results":"19","hashOfConfig":"12"},{"size":4458,"mtime":1613478110107,"results":"20","hashOfConfig":"12"},{"size":14487,"mtime":1613478332531,"results":"21","hashOfConfig":"12"},{"filePath":"22","messages":"23","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"34ofk4",{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34","usedDeprecatedRules":"24"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"24"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"24"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"45","usedDeprecatedRules":"24"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48","usedDeprecatedRules":"24"},"/home/mack/Documents/Admin/Admin-App/client/adminui/src/index.js",[],["49","50"],"/home/mack/Documents/Admin/Admin-App/client/adminui/src/App.js",[],"/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/sidebar/sidebar.js",["51"],"import { ProSidebar, Menu, MenuItem, SubMenu } from 'react-pro-sidebar';\nimport { BrowserRouter as Router, Link } from 'react-router-dom'  // Keep Router though not used in code\nimport 'react-pro-sidebar/dist/css/styles.css';\nimport './sidebar.scss'\nimport logotaxiconnect from '../../logotaxiconnect.png'\nimport { FaChartBar, FaThList, FaRegRegistered, FaCarSide } from 'react-icons/fa'\nfunction Sidebar() {\n     const iconStyle = {\n         width: 35,\n         height: 20\n     }\n    return(\n        <div className=\"sidebar\">\n            <ProSidebar>\n                <Menu iconShape=\"square\">\n                    <img src={logotaxiconnect} alt=\"TaxiConnect\" style={{ height: 73, width: 140, marginLeft:30, marginBottom: 50}}/>\n                    <MenuItem><Link to=\"/\"><FaChartBar style={iconStyle}/>Summary</Link></MenuItem> \n                    <MenuItem><Link to=\"/driver-registration\"><FaRegRegistered style={iconStyle} />Register Driver</Link></MenuItem>\n                    \n                    <SubMenu title=\"Trip Overview\" style = {{marginLeft: 10}}>\n                    <FaCarSide style={iconStyle} />\n                        <SubMenu title=\"Windhoek\" >\n                            <MenuItem><Link to=\"/trip-overview/rides\">Rides</Link></MenuItem>\n                            <MenuItem><Link to=\"/trip-overview/deliveries\">Deliveries</Link></MenuItem>\n                        </SubMenu>\n                        <SubMenu title=\"Swakopmund\">\n                            <MenuItem>Not Available</MenuItem>\n                        </SubMenu>\n                    </SubMenu>\n                    <MenuItem><Link to=\"/drivers\"><FaThList style={iconStyle} />Drivers</Link></MenuItem>\n                    <MenuItem><Link to=\"/passengers\"><FaThList style={iconStyle} />Users </Link></MenuItem>\n                </Menu>\n            </ProSidebar>;\n        </div>\n    )\n} \n\nexport default Sidebar\n","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/overview/overview.js",[],"/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/driverRegistration/driverRegistration.js",["52"],"import React, { Fragment, useState } from 'react'\nimport axios from 'axios'\nimport DatePicker from 'react-datepicker'\nimport './driverRegistration.css'\nimport Sidebar from '../sidebar/sidebar'\nrequire('dotenv').config({ path: \"../../../.env\"})\n\nconst left_form_style = {\n    border: \"1px solid #698dc7\",\n    borderWidth: 2,\n    borderRadius: 20,\n    padding: 25,\n    marginLeft: 20,\n    marginTop: 25\n}\nconst right_form_style = {\n    border: \"1px solid #698dc7\",\n    borderWidth: 2,\n    borderRadius: 20,\n    padding: 30,\n    marginRight: 25,\n    marginTop: 25\n}\nconst car_data_style = {\n    border: \"1px solid #698dc7\",\n    borderWidth: 2,\n    borderRadius: 20,\n    marginTop: 10,\n    padding: 40\n}\nconst DriverRegistration = () => {\n\n        let [name, setName] = useState('')\n        let [surname, setSurname] = useState('')\n        let [title, setTitle] = useState('')\n        let [personal_id_number, setPersonalIdNumber] = useState('')\n        let [phone_number, setPhoneNumber] = useState('')\n        let [email, setEmail] = useState('')\n        //let [password, setPassword] = useState('')\n        let [operation_clearances, setOperationClearances] = useState('')\n        let [delivery_provider, setDeliveryProvider] = useState('')\n\n        //  Files :\n        let [profile_picture, setProfilePicture] = useState('')\n        let [profile_picture_name, setProfilePictureName] = useState('Profile picture') \n\n        let [driver_licence_doc, setDriverLicenceDoc] = useState('')\n        let [driver_licence_doc_name, setDriverLicenceDocName] = useState(\"Driver's licence\") \n\n        let [copy_id_paper, setCopyIdPaper] = useState('')\n        let [copy_id_paper_name, setCopyIdPaperName] = useState('Personal ID')\n\n        let [copy_white_paper, setCopyWhitepaper] = useState('')\n        let [copy_white_paper_name, setCopyWhitepaperName] = useState('White paper')\n\n        let [copy_public_permit, setCopyPublicPermit] = useState('')\n        let [copy_public_permit_name, setCopyPublicPermitName] = useState('Public permit')\n\n        let [copy_blue_paper, setCopyBluePaper] = useState('')\n        let [copy_blue_paper_name, setCopyBluePaperName] = useState('Blue paper')\n        let [blue_paper_expiration, setBluePaperExpiration] = useState(new Date())\n        let [driver_licence_expiration, setDriverLicenceExpiration] = useState(new Date())\n\n        //  Bank Details :\n        let [bank_name, setBankName] = useState('')\n        let [account_number, setAccountNmber] = useState('')\n        let [branch_number, setBranchNumber] = useState('')\n        let [branch_name, setBranchName] = useState('')\n        \n        // Car data : \n        let [car_brand, setCarBrand] = useState('')\n        let [permit_number, setPermitNumber] = useState('')\n        let [taxi_number, setTaxiNumber] = useState('')\n        let [plate_number, setPlateNumber] = useState('')\n        let [max_passengers, setMaxPassengers] = useState(4)\n        let [vehicle_type, setVehicleType] = useState('')\n        let [car_nature, setCarNature] = useState(\"\")\n  \n        // car file:\n        let [taxi_picture, setTaxiPicture] = useState('')\n        let [taxi_picture_name, setTaxiPictureName] = useState('Taxi picture')\n\n       /* const deliveryProviderList = [\n            {\n                label:\"ebikesForAfrica\",\n                value:\"ebikesForAfrica\"\n            },\n            {\n                label:\"deliveryGuy\",\n                value:\"deliveryGuy\"\n            },\n            {\n                label:\"twoPointDelivery\",\n                value:\"twoPointDelivery\"\n            }\n        ] */\n\n        const onSubmit = async (e) => {\n            e.preventDefault()\n            // Crete a formData to contain all submitted information\n            const formData = new FormData()\n            formData.append('name', name)\n            formData.append('surname', surname)\n            formData.append('title', title)\n            formData.append('personal_id_number', personal_id_number)\n            formData.append('phone_number', phone_number)\n            formData.append('email', email)\n            //formData.append('password', password)\n            formData.append('operation_clearances', operation_clearances)\n            formData.append('delivery_provider', delivery_provider)\n\n            if (formData.get('operation_clearances') === \"Ride\") {\n                formData.set('delivery_provider', \"\")\n            }\n\n            formData.append('profile_picture', profile_picture)\n            formData.append('driver_licence_doc', driver_licence_doc)\n            formData.append('copy_id_paper', copy_id_paper)\n            formData.append('copy_white_paper', copy_white_paper)\n            formData.append('copy_public_permit', copy_public_permit)\n            formData.append('copy_blue_paper', copy_blue_paper)\n            formData.append('blue_paper_expiration', blue_paper_expiration)\n            formData.append('driver_licence_expiration', driver_licence_expiration)\n            formData.append('bank_name', bank_name)\n            formData.append('account_number', account_number)\n            formData.append('branch_number', branch_number)\n            formData.append('branch_name', branch_name)\n\n            // Car's data\n            formData.append('car_brand', car_brand)\n            formData.append('permit_number', permit_number)\n            formData.append('taxi_number', taxi_number)\n            formData.append('plate_number', plate_number)\n            formData.append('max_passengers', max_passengers)\n            formData.append('taxi_picture', taxi_picture)\n            formData.append('vehicle_type', vehicle_type)\n            formData.append('car_nature', car_nature)\n           \n            console.log(formData.get('title'))\n            console.log(formData.get('delivery_provider'))\n            console.log(formData.get('operation_clearances'))\n            console.log(formData.get('copy_id_paper'))\n            //passenger-data\n            // Send data to server\n            try {\n                const res = await axios.post(`${process.env.ROOT_URL}:${process.env.DRIVER_ROOT}/upload`, formData, {\n                    headers: {\n                        'Content-Type': 'multipart/form-data'\n                    } \n                })\n            \n                console.log(res.data)\n                alert(\"Successfully submitted\")\n    \n                \n            } catch(err) {\n                console.log(err)\n                alert(\"There was an error with the server, \" + \n                \"make sure all the fields were properly entered\")\n            }   \n        }\n\n        return (\n            <div>\n            <div className=\"wrapper\"> \n                <div className=\"left-column\">\n                    <Sidebar />\n                </div>\n                <div className=\"right-column\">\n                    <Fragment >\n                        <h1 style={{ textAlign: \"center\", marginBottom: 5, backgroundColor: \"#179eb3\" }}>\n                            Driver Registration</h1>\n                        <form onSubmit={onSubmit}> \n                        <div id=\"wrapper\">\n                            <div className=\"literal-info\" style={left_form_style}>\n                            <div className=\"form-group ml-4\">\n                                <label>Operation clearance </label>\n                                <select\n                                    required\n                                    className=\"form-control \"\n                                    style={{ width: 350 }}\n                                    value={operation_clearances}\n                                    onChange={(e) => { setOperationClearances(e.target.value) }}>\n                                        <option></option>\n                                <option key=\"Ride\" value=\"Ride\">Ride</option>\n                                <option key=\"Delivery\" value=\"Delivery\">Delivery</option>\n                                </select>\n                            </div>\n                            <div className=\"form-group ml-4\" style={{ display: operation_clearances==\"Delivery\"? \n                            'block':'none' }}>\n                                <label>Delivery Provider </label>\n                                <select\n                                    className=\"form-control\"\n                                    value={delivery_provider}\n                                    onChange={(e) => { setDeliveryProvider(e.target.value) }}>\n                                        <option></option>\n                                        <option value=\"ebikesForAfrica\">ebikesForAfrica</option>\n                                        <option value=\"deliveryGuy\">deliveryGuy</option>\n                                        <option value=\"twoPointDelivery\">twoPointDelivery</option>\n                                \n                                </select>\n                            </div>\n                            <div className=\"form-group ml-4\">\n                                    <label>Name: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        style={{ width: 350 }}\n                                        value={ name }\n                                        onChange={(e) => { setName(e.target.value)}}\n                                        />\n                            </div>\n                            <div className=\"form-group ml-4\">\n                                    <label>Surname: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ surname }\n                                        onChange={(e) => { setSurname(e.target.value) }}\n                                        style={{ width: 350 }}\n                                        />\n                            </div>\n                            \n                            <div className=\"form-group ml-4\">\n                                <label>Title: </label>\n                                <select\n                                    required\n                                    className=\"form-control\"\n                                    style={{ width: 350 }}\n                                    value={ title }\n                                    onChange={(e) => { setTitle(e.target.value) }}>\n                                        <option></option>\n                                <option key=\"Mr\" value=\"Mr\">Mr</option>\n                                <option key=\"Ms.\" value=\"Ms.\">Ms.</option>\n                                <option key=\"Mrs\" value=\"Mrs\">Mrs</option>\n                                <option key=\"Miss\" value=\"Miss\">Miss</option>\n\n                                </select>\n                            </div>\n\n                            <div className=\"form-group ml-4\">\n                                    <label>Personal ID number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        style={{ width: 350 }}\n                                        value={ personal_id_number }\n                                        onChange={(e) => { setPersonalIdNumber(e.target.value) }}\n                                        />\n                            </div>\n                            <div className=\"form-group ml-4\">\n                                    <label>Phone Number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        style={{ width: 350 }}\n                                        value={ phone_number }\n                                        onChange={(e) => { setPhoneNumber(e.target.value) }}\n                                        />\n                            </div>\n                            <div className=\"form-group ml-4\">\n                                    <label>Email: </label>\n                                    <input type=\"email\"\n                                        required\n                                        className=\"form-control\"\n                                        style={{ width: 350 }}\n                                        value={ email }\n                                        onChange={(e) => { setEmail(e.target.value) }}\n                                        />\n                            </div>\n                            </div>\n                            \n                            <div className=\"files-info-bank\" style={right_form_style}>\n                                <div> <h3>Upload files</h3></div>\n                                <div className=\"custom-file\" >\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" \n                                        onChange={(e) => { \n                                            setProfilePicture(e.target.files[0])\n                                            setProfilePictureName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {profile_picture_name}\n                                    </label> \n                                </div>\n                                <div className=\"custom-file mt-2\" >\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\" \n                                        onChange={(e) => { \n                                            setDriverLicenceDoc(e.target.files[0])\n                                            setDriverLicenceDocName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {driver_licence_doc_name}\n                                    </label> \n                                </div>\n                                <div className=\"custom-file mt-2\">\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\"\n                                        onChange={(e) => { \n                                            setCopyIdPaper(e.target.files[0])\n                                            setCopyIdPaperName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {copy_id_paper_name}\n                                    </label> \n                                </div>\n                                <div className=\"custom-file mt-2\">\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\"\n                                        onChange={(e) => { \n                                            setCopyWhitepaper(e.target.files[0])\n                                            setCopyWhitepaperName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {copy_white_paper_name}\n                                    </label> \n                                </div>\n                                <div className=\"custom-file mt-2\">\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\"\n                                        onChange={(e) => { \n                                            setCopyPublicPermit(e.target.files[0])\n                                            setCopyPublicPermitName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {copy_public_permit_name}\n                                    </label> \n                                </div>\n                                <div className=\"custom-file mt-2\">\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\"\n                                        onChange={(e) => { \n                                            setCopyBluePaper(e.target.files[0])\n                                            setCopyBluePaperName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {copy_blue_paper_name}\n                                    </label> \n                                </div>\n                                <div className=\"form-group mt-3\">\n                                    <label>Blue paper expiration date: </label>\n                                    <div>\n                                        <DatePicker\n                                            selected={blue_paper_expiration}\n                                            onChange={(date) => {setBluePaperExpiration(date)}} \n                                        />\n                                    </div>\n                                </div>\n                                <div className=\"form-group mt-3\">\n                                    <label>Driver's licence expiration date: </label>\n                                    <div>\n                                        <DatePicker\n                                            selected={driver_licence_expiration}\n                                            onChange={(date) => {setDriverLicenceExpiration(date)}} \n                                        />\n                                    </div>\n                                </div>\n                                <br></br>\n                                <div style={{ marginTop: 6 }}> <h3> Bank Details</h3></div>\n                                <div className=\"form-group\">\n                                    <label>Bank name: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ bank_name }\n                                        onChange={(e) => { setBankName(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Account number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ account_number }\n                                        onChange={(e) => { setAccountNmber(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Branch number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ branch_number }\n                                        onChange={(e) => { setBranchNumber(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Branch name: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ branch_name }\n                                        onChange={(e) => { setBranchName(e.target.value) }}\n                                        />\n                                </div>\n\n                            </div>\n\n                            <div className=\"car-data\" style={ car_data_style }>\n                                <div style={{ width: 550}}><h3 style={{ width: 250, margin: \"auto\"}}>Car's data</h3></div>\n                                <div className=\"form-group\">\n                                    <label>Brand: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ car_brand }\n                                        onChange={(e) => { setCarBrand(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Permit number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ permit_number }\n                                        onChange={(e) => { setPermitNumber(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Taxi number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ taxi_number }\n                                        onChange={(e) => { setTaxiNumber(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Plate number: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ plate_number }\n                                        onChange={(e) => { setPlateNumber(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Maximum number of passengers: </label>\n                                    <input type=\"text\"\n                                        required\n                                        className=\"form-control\"\n                                        value={ max_passengers }\n                                        onChange={(e) => { setMaxPassengers(e.target.value) }}\n                                        />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Car category (select): </label>\n                                    <select\n                                        required\n                                        className=\"form-control\"\n                                        style={{ width: 400 }}\n                                        value={ vehicle_type }\n                                        onChange={(e) => { setVehicleType(e.target.value) }}>\n                                            <option></option>\n                                    <option key=\"normalTaxiEconomy\" value=\"normalTaxiEconomy\">Economy (normal)</option>\n                                    <option key=\"electricEconomy\" value=\"electricEconomy\">Economy (electric)</option>\n                                    <option key=\"comfortNormalRide\" value=\"comfortNormalRide\">Comfort (normal)</option>\n                                    <option key=\"comfortElectricRide\" value=\"comfortElectricRide\">Comfort (electric)</option>\n                                    <option key=\"luxuryNormalRide\" value=\"luxuryNormalRide\">Luxury (normal)</option>\n                                    <option key=\"luxuryElectricRide\" value=\"luxuryElectricRide\">Luxury (electric)</option>\n\n                                    </select>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label>Car nature (select): </label>\n                                    <select\n                                        required\n                                        className=\"form-control\"\n                                        style={{ width: 400 }}\n                                        value={ car_nature }\n                                        onChange={(e) => { setCarNature(e.target.value) }}>\n                                            <option></option>\n                                        <option key=\"bicycle\" value=\"bicycle\">bicycle</option>\n                                        <option key=\"bike\" value=\"bike\">bike</option>\n                                        <option key=\"car\" value=\"car\">car</option>\n                                    </select>\n                                </div>\n                                <div className=\"custom-file mt-4\">\n                                    <input type=\"file\" className=\"custom-file-input\" id=\"customFile\"\n                                        onChange={(e) => { \n                                            setTaxiPicture(e.target.files[0])\n                                            setTaxiPictureName(e.target.files[0].name)\n                                        }} />\n                                    <label className=\"custom-file-label\" htmlFor=\"customFile\">\n                                        {taxi_picture_name}\n                                    </label> \n                                </div>\n\n                            </div>\n\n                            <div className=\"submit-registration\">\n                            <input\n                            style = {{ backgroundColor: 'green'}}\n                            type=\"submit\"\n                            value=\"Register\"\n                            className=\"btn btn-primary btn-block mt-4\"\n                            />\n                            </div>\n                        </div>\n                        </form>\n                    </Fragment>\n                </div>\n            </div>   \n            </div>\n        )\n    \n}\n\nexport default DriverRegistration","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/rideOverview/rideOverview.js",["53","54","55","56"],"import React, {useState, useEffect} from \"react\"\nimport io from 'socket.io-client'\nimport \"./rideOverview.css\"\nimport Sidebar from \"../sidebar/sidebar\"\nrequire(\"dotenv\").config({ path : \"../../../.env\"})\n\n\n\n\n/**\n * @function GetCashWallet : Returns the total money of trips in progress, scheduled and completed\n *                          Of a given array of rides (cash and delivery returned)\n * @param {array} arrayData : An array of rides from either an API or Database of rides with known\n *                            keys. \n * \n */\n\nfunction GetCashWallet(arrayData, resolve) {\n  \n    let fare_array = [];\n    let fare_array_cash = [];\n    let fare_array_wallet = [];\n    const Sum = (arr) => arr.reduce((num1, num2) => num1 + num2, 0);\n    \n    arrayData.map((ride) => {\n        fare_array.push(Number(ride[\"amount\"]));\n\n        // Get rides with CASH as payment method\n        let payment_method = ride[\"payment_method\"].toUpperCase().trim();\n        if (/CASH/i.test(payment_method)) {\n        // if (payment_method ===\"CASH\") /CASH/ makes sure of spacing\n        fare_array_cash.push(Number(ride[\"amount\"]));\n        } else {\n        fare_array_wallet.push(Number(ride[\"amount\"]));\n        }\n    });\n    \n    let totalCash = Sum(fare_array_cash);\n    let totalWallet = Sum(fare_array_wallet);\n    let totalCashWallet = totalCash + totalWallet;\n    let CashWalletObject = { totalCash, totalWallet, totalCashWallet };\n\n    resolve(CashWalletObject)\n\n    //return CashWalletObject\n}\n\n/**\n * @function progressScheduledCompleted : Returns the total count and money of trips in progress, \n *                                        scheduled and completed\n *                          Of a given array of rides (cash and delivery returned)\n * @param {array} arrayData : An array of rides from either an API or Database of rides with known\n *                            keys. \n * \n */\n\nfunction progressScheduledCompleted(arrayData, resolve) {\n    \n    let progress = arrayData.filter(current => {\n        return !current.isArrivedToDestination\n    })\n\n    let scheduled = arrayData.filter(current => {\n        let Value = current.request_type === \"scheduled\" && current.isArrivedToDestination===false\n        return Value\n    })\n    let completed = arrayData.filter( current => {\n        return current.isArrivedToDestination\n    })\n\n    let completed_today = arrayData.filter( current => {\n        let startOfToday = new Date()\n        let convertToday = new Date(startOfToday.setHours(0, 0, 0, 0)).toISOString()\n        //console.log(current.date_time)\n        //console.log(startOfToday)\n        \n        console.log(`today start: ${convertToday}`)\n        console.log(`received date: ${current.date_time}`)\n        let today = (new Date(current.date_time)) > (new Date(convertToday))\n        console.log(`Date comparison result: ${today}`)\n        return (today && current.isArrivedToDestination)\n    })\n    console.log(completed_today)\n    \n    Promise.all([\n            //let progressMoney = GetCashWallet(scheduled)\n        new Promise((res) => {\n            GetCashWallet(progress, res)\n        }),\n        new Promise((res) => {\n            GetCashWallet(scheduled, res)\n        }),\n        //let progressMoney = GetCashWallet(scheduled)\n        new Promise((res) => {\n            GetCashWallet(completed, res)\n        }),\n        new Promise((res) => {\n            GetCashWallet(completed_today,res)\n        })\n\n    ]).then((future) => {\n        let [progressMoney, scheduledMoney, completedMoney, completedMoneyToday] = future\n        let Object = {}\n        Object.moneyInprogress = progressMoney\n        Object.moneyScheduled = scheduledMoney\n        Object.moneyCompleted = completedMoney\n        Object.moneyCompletedToday = completedMoneyToday\n        Object.inprogress = progress.length\n        Object.scheduled = scheduled.length\n        Object.completed = completed.length\n        Object.completed_today = completed_today.length\n        console.log(\"------------------------------\")\n        console.log(arrayData)\n        resolve(Object)\n    }).catch((error) => {\n\n        console.log(error)\n        resolve({\n            response: \"error\",\n            flag: \"Possibly invalid input parameters\",\n        })\n    })\n \n}\n\n\n/**\n * \n * @function RideRow : Returns single ride details\n */\n\nconst RideRow = (props) => {\n    let statepick\n    let statepickword\n    let statedrop\n    let statedropword\n    let [details, setDetails] = useState(false)\n    let detailButton = details? \"less\":\"more\"\n    \n    if (props.ride.isDroppedDriver===true) {\n        statedrop = {backgroundColor:\"green\"}\n        statedropword = \"YES\"\n    } else {\n        statedrop = {backgroundColor:\"red\"}\n        statedropword = \"NO\"\n    }\n\n    if (props.ride.isPickedUp === true) {\n        statepick = {backgroundColor:\"green\"}\n        statepickword = \"YES\"\n    } else {\n        statepick = {backgroundColor:\"red\"}\n        statepickword = \"NO\"\n    }\n    // Create a list of available destinations\n    const dest = () =>{\n        return props.ride.destinations.map((d) => {\n            return <ul><li>{d.location_name}</li></ul>\n        })\n    }\n    \n    return(\n        <>\n        <tr style ={{ backgroundColor: \"#ebd113\"}}>\n            \n            <td>{ props.ride.taxi_number }</td>\n            <td>{ props.ride.passengers_number}</td>\n            <td>{ props.ride.request_type}</td>\n            <td>{ props.ride.date_time.toString().slice(0,10) }</td>\n            <td>{ props.ride.date_time.toString().slice(11,19) }</td>\n            <td style={ statepick }>{ statepickword }</td>\n            <td style={ statedrop }>{ statedropword }</td>\n            <td>{ props.ride.connect_type }</td>\n            <td><button className=\"btn btn-outline-info btn-sm\" onClick={ () => {\n                    setDetails(!details)  \n            }}>{ detailButton }</button></td>    \n        </tr>\n        <tr style = {{ display: details? \"\":\"none\" }}>\n            <td className=\"data-table\" >\n                <table className=\"table\" style={{ textAlign: \"center\"}} id=\"iner-table\">\n                    <thead className=\"thead-light\">\n                        <tr>\n                            <th colSpan=\"8\">Passenger info</th>\n                        </tr>\n                        <tr>\n                            <th>Name</th>\n                            <th>Surname</th>\n                            <th>Cellphone</th>\n                            <th>Gender</th>\n                            <th>Payment</th>\n                            <th>Amount</th>\n                            <th>Origin</th>\n                            <th>Destination(s)</th>\n                            <th>Wished pick up time</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td className=\"td-second\">{ props.ride.name }</td>\n                            <td className=\"td-second\">{props.ride.surname }</td>\n                            <td className=\"td-second\">{ props.ride.cellphone }</td>\n                            <td className=\"td-second\">{ props.ride.gender }</td>\n                            <td className=\"td-second\">{ props.ride.payment_method }</td>\n                            <td className=\"td-second\">N$ { props.ride.amount }</td>\n                            <td className=\"td-second\">{ props.ride.origin}</td>\n                            <td className=\"td-second\">{dest()}</td>\n                            <td className=\"td-second\">{props.ride.wished_pickup_time.toString().slice(0,10)} @({props.ride.wished_pickup_time.toString().slice(11,19)})\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n       </>\n    )\n}\n\n/**\n * @function RideOverview : Main function rendering the rides overview page\n */\n\nfunction RideOverview() {\n\n\n    let [rides, setRides] = useState([])   // Main ride list of objects\n    let [inProgress, setInProgress] = useState(true)\n    let [scheduled, setScheduled] = useState(false)\n    let [completed, setCompleted] = useState(false)\n    let [InprogressCount, setInProgressCount] = useState(0)\n    let [ScheduledCount, setScheduledCount] = useState(0)\n    let [CompletedCount, setCompletedCount] = useState(0)\n    let [CompletedTodayCount, setCompletedTodayCount] = useState(0)\n    let [moneyInprogress, setMoneyInProgress] = useState({})\n    let [moneyScheduled, setMoneyScheduled] = useState({})\n    let [moneyCompleted, setMoneyCompleted] = useState({})\n    let [moneyCompletedToday, setMoneyCompletedToday] = useState({})\n\n    /*let [passengers_number, setPassengersNumber] = useState(0)\n    let [request_type, setRequestType] = useState(0)\n    let [date_time, setDateTime] = useState(0)\n    let [isPickedUp, setIsPickedUp] = useState(false)\n    let [isDroppedPassenger, setIsDroppedPassenger] = useState(false)\n    let [isDroppedDriver, setIsDroppedDriver] = useState(false)\n    let [connect_type, setConnectType] = useState('')\n    let [payment_method, setPaymentMethod] = useState('')\n    let [amount, setAmount] = useState(0)\n    let [destinations, setDestinations] = useState([])\n    let [name, setName] = useState('')\n    let [surname, setSurname] = useState('')\n    let [gender, setGender] = useState('')\n    let [cellphone, setCellphone] = useState('')  */\n    \n    let ENDPOINT = process.env.GATEWAY\n\n    useEffect(() => {\n        let socket = io(ENDPOINT, {\n                                    transports: ['websocket', 'polling', 'flashsocket'],\n                                    reconnection: true,\n                                    reconnectionAttempts: Infinity})\n        const interval = setInterval(() => {\n            console.log(\"kaputo@taxiconnect\")\n            socket.on(\"getRideOverview-response\", (data) => {\n                if ((data !== undefined) && (data != null)) {\n                    /* Do something\n                    data.map((ride) => {\n                        console.log(ride)\n                    }) */\n                    console.log(\"**********************************\")\n                    console.log(\"Received statistics object:\")\n                    console.log(data)\n                    console.log(\"**********************************\")\n                    setRides(data)\n                    // Get inprogress, scheduled and completed data to update count state\n                    new Promise((res) => {\n                        progressScheduledCompleted(data, res)\n                    }).then((future) => {\n                        console.log(future)\n                        setInProgressCount(future.inprogress)\n                        setMoneyInProgress(future.moneyInprogress)\n                        setScheduledCount(future.scheduled)\n                        setMoneyScheduled(future.moneyScheduled)\n                        setCompletedCount(future.completed)\n                        setMoneyCompleted(future.moneyCompleted)\n                        setCompletedTodayCount(future.completed_today)\n                        setMoneyCompletedToday(future.moneyCompletedToday)\n                        \n                    }).catch((error) => {\n                        console.log(error)\n                    })\n\n                } else {\n                    console.log(data.error) // data.error ?\n                    alert(\"Something went wrong while retrieving Data\")\n                }\n            })\n            socket.emit(\"getRideOverview\", {data: \"Get ride-overview Data!\"})\n        },2000)\n\n        return( () => {\n            clearInterval(interval)\n        })\n    \n    }, [\n        // re-render whenever any of these changes\n        rides,\n        ENDPOINT\n    ])\n\n    /**\n     * @function rideListInProgress : returns the list of rides in progress\n     * @function rideListScheduled : returns the list of scheduled rides\n     * @function rideListCompleted : returns the list of completed rides\n     * \n     */\n    \n    const rideListInProgress = () => {\n\n        return rides.map( currentRide => {\n         \n            if ( !currentRide.isArrivedToDestination) {\n                return <RideRow ride={currentRide}  />\n            } else { \n                //! Do nothing (Do not add the ride to the list if not in progress)\n             }\n        })\n    }\n\n    const rideListScheduled = () => {\n        return rides.map( currentRide => {\n            if ( currentRide.request_type === \"scheduled\" && currentRide.isArrivedToDestination===false) {\n                \n                return <RideRow ride={currentRide}  />\n            } else { \n                //! Do nothing (Do not add the ride to the list if not scheduled)\n             }\n        })\n    }\n\n    const rideListCompleted = () => {\n        return rides.map( currentRide => {\n            if ( currentRide.isArrivedToDestination) {\n                \n                return <RideRow ride={currentRide}  />\n            } else { \n                //! Do nothing --> Do not add the ride to the list if not completed\n                //! the ride is completed upon confirmation of either driver or passenger\n                //! Further display difference of both shall be done upon rendering of the row\n             }\n        })\n    }\n\n    const title_style = {\n        textAlign: \"center\",\n        marginTop: 10,\n        marginBottom: 15\n    }\n    const subtitle_style = {\n        textAlign: \"center\",\n        marginTop: 5,\n        marginBottom: 10\n    }\n    const card = {\n        backgroundColor: \"#62bbde\"\n    }\n    const card_header = {\n        backgroundColor: \"#3183a3\",\n        \n    }\n\n    const today = () => {\n        return(\n           <div style= {{ backgroundColor: \"#cbd1d1\", marginTop: 0, padding: 15}}>\n               <h5 style={{ width: 35, margin: \"auto\" }}>TODAY</h5>\n                            <div id=\"container-low\">\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> N$ { moneyCompletedToday[\"totalCash\"]} \n                                        <span style={{ fontSize: 'small'}}> cash</span> \n                                    </h1>\n                                </div>\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> N$ { moneyCompletedToday[\"totalWallet\"]}\n                                        <span style={{ fontSize: 'small'}}> wallet</span> \n                                    </h1>\n                                </div>\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> N$ { moneyCompletedToday[\"totalCashWallet\"]} \n                                        <span style={{ fontSize: 'small'}}> total</span> \n                                    </h1>\n                                </div>\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> { CompletedTodayCount } \n                                        <span style={{ fontSize: 'small', }}> rides</span> \n                                    </h1>\n                                </div>\n\n                            </div>\n           </div>\n        )\n    }\n\n    return(\n       \n        <div>\n\n            <div className=\"wrapper\">\n                <div className=\"left-column\">\n                <Sidebar />\n                </div>\n                <div className=\"right-column\" >\n                    <h1 style={ title_style }> Rides Overview </h1>\n                    <div style= {{ marginLeft: 200, padding: 10}}>\n                        <button style={{ marginLeft: 25}} className=\"btn btn-info btn-sm \" onClick={ () => {\n                        setScheduled (false)\n                        setCompleted(false)\n                        setInProgress(true)  \n                        }}>Rides in progress [{ InprogressCount }]</button>\n\n                        <button style={{ marginLeft: 35}} className=\"btn btn-info btn-sm \" onClick={ () => {\n                        setInProgress (false)\n                        setCompleted(false)\n                        setScheduled(true)  \n                        }}>Scheduled rides [{ ScheduledCount }]</button>\n\n                        <button style={{ marginLeft: 35}} className=\"btn btn-info btn-sm \" onClick={ () => {\n                        setInProgress (false)\n                        setCompleted(true)\n                        setScheduled(false)  \n                        }}>Completed rides [{ CompletedCount }]</button>\n\n                    </div>\n\n                        <div style = {{ display: inProgress? \"\":\"none\" }}>\n                            \n                            <hr></hr>\n                            \n                            <div >\n                                <div className=\"container\">\n                                    <div className=\"row text-center\">\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                cash\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyInprogress[\"totalCash\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style= {card_header}>\n                                                wallet\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyInprogress[\"totalWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                Total  \n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyInprogress[\"totalCashWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <hr></hr>\n\n                            { today() }\n\n                            <h3 style={ subtitle_style }>Rides in progress </h3>\n                            <table className=\"table\" style={{ textAlign: \"center\"}}>\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                       \n                                        <th>Taxi number</th>\n                                        <th>Passengers</th>\n                                        <th>Request type</th>\n                                        <th>Date</th>\n                                        <th>Time requested</th>\n                                        <th>Client picked up</th>\n                                        <th>Driver drop-off confirmation</th>\n                                        <th>Connect type</th>\n                                        <th>...</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    { rideListInProgress() }\n                                </tbody>\n                            </table>\n                        </div>\n\n                        <div style = {{ display: scheduled? \"\":\"none\" }}>\n                            \n                            <hr></hr>\n                            <div >\n                                <div className=\"container\">\n                                    <div className=\"row text-center\">\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                cash\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyScheduled[\"totalCash\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style= {card_header}>\n                                                wallet\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyScheduled[\"totalWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                Total  \n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyScheduled[\"totalCashWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <hr></hr>\n\n                            { today() }\n\n                            <h3 style={ subtitle_style }>Scheduled rides </h3>\n                            <table className=\"table\" style={{ textAlign: \"center\"}}>\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        \n                                        <th>Taxi number</th>\n                                        <th>Passengers</th>\n                                        <th>Request type</th>\n                                        <th>Date</th>\n                                        <th>Time requested</th>\n                                        <th>Client picked up</th>\n                                        <th>Driver dropped off confirmation</th>\n                                        <th>Connect type</th>\n                                        <th>...</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    { rideListScheduled() }\n                                </tbody>\n                            </table>\n                        </div>\n\n                        <div style = {{ display: completed? \"\":\"none\" }}>\n                            \n                            <hr></hr>\n                           \n                                \n                            <div >\n                                <div className=\"container\">\n                                    <div className=\"row text-center\">\n                                        <div class=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                cash\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyCompleted[\"totalCash\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style= {card_header}>\n                                                wallet\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyCompleted[\"totalWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                Total  \n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyCompleted[\"totalCashWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                                \n                            <hr></hr>\n\n                            { today() }\n\n                            <h3 style={ subtitle_style }>Completed rides</h3>\n                            <table className=\"table\" style={{ textAlign: \"center\"}}>\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                 \n                                        <th>Taxi number</th>\n                                        <th>Passengers</th>\n                                        <th>Request type</th>\n                                        <th>Date</th>\n                                        <th>Time requested</th>\n                                        <th>Client picked up</th>\n                                        <th>Driver dropped off confirmation</th>\n                                        <th>Connect type</th>\n                                        <th>...</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    { rideListCompleted() }\n                                </tbody>\n                            </table>\n                        </div>\n                </div>\n            </div>\n   \n        </div>\n    \n    )\n}\n\nexport default RideOverview","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/deliveryOverview/deliveryOverview.js",["57","58","59","60"],"import React, {useState, useEffect} from \"react\"\nimport io from 'socket.io-client'\nimport \"./deliveryOverview.css\"\nimport Sidebar from \"../sidebar/sidebar\"\nrequire(\"dotenv\").config({ path : \"../../../.env\"})\n\n\n/**\n * @function GetCashWallet : Returns the total money of trips in progress, scheduled and completed\n *                          Of a given array of rides (cash and delivery returned)\n * @param {array} arrayData : An array of rides from either an API or Database of rides with known\n *                            keys. \n * \n */\n\nfunction GetCashWallet(arrayData, resolve) {\n  \n    let fare_array = [];\n    let fare_array_cash = [];\n    let fare_array_wallet = [];\n    const Sum = (arr) => arr.reduce((num1, num2) => num1 + num2, 0);\n    \n    arrayData.map((ride) => {\n        fare_array.push(Number(ride[\"amount\"]));\n\n        // Get rides with CASH as payment method\n        let payment_method = ride[\"payment_method\"].toUpperCase().trim();\n        if (/CASH/i.test(payment_method)) {\n        // if (payment_method ===\"CASH\") /CASH/ makes sure of spacing\n        fare_array_cash.push(Number(ride[\"amount\"]));\n        } else {\n        fare_array_wallet.push(Number(ride[\"amount\"]));\n        }\n    });\n    \n    let totalCash = Sum(fare_array_cash);\n    let totalWallet = Sum(fare_array_wallet);\n    let totalCashWallet = totalCash + totalWallet;\n    let CashWalletObject = { totalCash, totalWallet, totalCashWallet };\n\n    resolve(CashWalletObject)\n\n    //return CashWalletObject\n}\n\n/**\n * @function progressScheduledCompleted : Returns the total count and money of trips in progress, \n *                                        scheduled and completed\n *                          Of a given array of rides (cash and delivery returned)\n * @param {array} arrayData : An array of rides from either an API or Database of rides with known\n *                            keys. \n * \n */\n\nfunction progressScheduledCompleted(arrayData, resolve) {\n    \n    let progress = arrayData.filter(current => {\n        return !current.isArrivedToDestination\n    })\n\n    let scheduled = arrayData.filter(current => {\n        let Value = current.request_type === \"scheduled\" && current.isArrivedToDestination===false\n        return Value \n    })\n    let completed = arrayData.filter( current => {\n        return current.isArrivedToDestination\n    })\n\n    let completed_today = arrayData.filter( current => {\n        let startOfToday = new Date()\n        let convertToday = new Date(startOfToday.setHours(0, 0, 0, 0)).toISOString()\n        //console.log(current.date_time)\n        //console.log(startOfToday)\n        console.log(`today start: ${convertToday}`)\n        console.log(`recived date: ${current.date_time}`)\n        let today = (new Date(current.date_time)) > convertToday\n        console.log(`Date comparison result: ${today}`)\n        return (today && current.isArrivedToDestination)\n    })\n    \n    Promise.all([\n            //let progressMoney = GetCashWallet(scheduled)\n        new Promise((res) => {\n            GetCashWallet(progress, res)\n        }),\n        new Promise((res) => {\n            GetCashWallet(scheduled, res)\n        }),\n        //let progressMoney = GetCashWallet(scheduled)\n        new Promise((res) => {\n            GetCashWallet(completed, res)\n        }),\n        new Promise((res) => {\n            GetCashWallet(completed_today, res)\n        })\n\n    ]).then((future) => {\n        let [progressMoney, scheduledMoney, completedMoney, completedMoneyToday] = future\n        let Object = {}\n        Object.moneyInprogress = progressMoney\n        Object.moneyScheduled = scheduledMoney\n        Object.moneyCompleted = completedMoney\n        Object.moneyCompletedToday = completedMoneyToday\n        Object.completed_today = completed_today.length\n        Object.inprogress = progress.length\n        Object.scheduled = scheduled.length\n        Object.completed = completed.length\n\n        resolve(Object)\n    }).catch((error) => {\n\n        console.log(error)\n        resolve({\n            response: \"error\",\n            flag: \"Possibly invalid input parameters\",\n        })\n    })\n \n}\n\n\n\n\n\n/**\n * \n * @function DeliveryRow : Returns single ride details\n */\n\nconst DeliveryRow = (props) => {\n    let statepick\n    let statepickword\n    let statedrop\n    let statedropword\n    let [details, setDetails] = useState(false)\n    let detailButton = details? \"less\":\"more\"\n    \n    if (props.delivery.isDroppedDriver===true) {\n        statedrop = {backgroundColor:\"green\"}\n        statedropword = \"YES\"\n    } else {\n        statedrop = {backgroundColor:\"red\"}\n        statedropword = \"NO\"\n    }\n\n    if (props.delivery.isPickedUp === true) {\n        statepick = {backgroundColor:\"green\"}\n        statepickword = \"YES\"\n    } else {\n        statepick = {backgroundColor:\"red\"}\n        statepickword = \"NO\"\n    }\n    // Create a list of available destinations\n    const dest = () =>{\n        return props.delivery.destinations.map((d) => {\n            return <ul><li>{d.location_name}</li></ul>\n        })\n    }\n    return(\n        <>\n        <tr style ={{ backgroundColor: \"#ebd113\"}}>\n           \n            <td>{ props.delivery.taxi_number ? props.delivery.taxi_number : \"not found\"}</td>\n            <td>{ props.delivery.origin}</td>\n            <td>{ props.delivery.request_type}</td>\n            <td>{ props.delivery.date_time.toString().slice(0,10) }</td>\n            <td>{ props.delivery.date_time.toString().slice(11,19) }</td>\n            <td style={ statepick }>{ statepickword }</td>\n            <td style={ statedrop }>{ statedropword }</td>\n            <td>{ props.delivery.delivery_receiver } {props.delivery.delivery_phone}</td>\n            <td><button className=\"btn btn-outline-info btn-sm\" onClick={ () => {\n                    setDetails(!details)  \n            }}>{ detailButton }</button></td>    \n        </tr>\n        <tr style = {{ display: details? \"\":\"none\" }}>\n            <td className=\"data-table\" >\n                <table className=\"table\" style={{ textAlign: \"center\"}} id=\"iner-table\">\n                    <thead className=\"thead-light\">\n                        <tr>\n                            <th colSpan=\"8\">Requestor info</th>\n                        </tr>\n                        <tr>\n                            <th>Name</th>\n                            <th>Surname</th>\n                            <th>Cellphone</th>\n                            <th>Gender</th>\n                            <th>Payment</th>\n                            <th>Amount</th>\n                            <th>From</th>\n                            <th>Destination(s)</th>\n                            <th>Wished pick up time</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr>\n                            <td className=\"td-second\">{ props.delivery.name }</td>\n                            <td className=\"td-second\">{props.delivery.surname }</td>\n                            <td className=\"td-second\">{ props.delivery.cellphone }</td>\n                            <td className=\"td-second\">{ props.delivery.gender }</td>\n                            <td className=\"td-second\">{ props.delivery.payment_method }</td>\n                            <td className=\"td-second\">N$ { props.delivery.amount }</td>\n                            <td className=\"td-second\">{ props.delivery.amount}</td>\n                            <td className=\"td-second\">{dest()}</td>\n                            <td className=\"td-second\">{props.delivery.wished_pickup_time }</td>\n                        </tr>\n                    </tbody>\n                </table>\n            </td>\n        </tr>\n       </>\n        \n\n    )\n}\n\n\nfunction DeliveryOverview() {\n\n\n    let [deliveries, setDeliveries] = useState([])   // Main ride list of objects\n    let [inProgress, setInProgress] = useState(true)\n    let [scheduled, setScheduled] = useState(false)\n    let [completed, setCompleted] = useState(false)\n    let [InprogressCount, setInProgressCount] = useState(0)\n    let [ScheduledCount, setScheduledCount] = useState(0)\n    let [CompletedCount, setCompletedCount] = useState(0)\n    let [moneyInprogress, setMoneyInProgress] = useState({})\n    let [moneyScheduled, setMoneyScheduled] = useState({})\n    let [moneyCompleted, setMoneyCompleted] = useState({})\n    let [CompletedTodayCount, setCompletedTodayCount] = useState(0)\n    let [moneyCompletedToday, setMoneyCompletedToday] = useState(0)\n    /*let [passengers_number, setPassengersNumber] = useState(0)\n    let [request_type, setRequestType] = useState(0)\n    let [date_time, setDateTime] = useState(0)\n    let [isPickedUp, setIsPickedUp] = useState(false)\n    let [isDroppedPassenger, setIsDroppedPassenger] = useState(false)\n    let [isDroppedDriver, setIsDroppedDriver] = useState(false)\n    let [connect_type, setConnectType] = useState('')\n    let [payment_method, setPaymentMethod] = useState('')\n    let [amount, setAmount] = useState(0)\n    let [destinations, setDestinations] = useState([])\n    let [name, setName] = useState('')\n    let [surname, setSurname] = useState('')\n    let [gender, setGender] = useState('')\n    let [cellphone, setCellphone] = useState('')  */\n    \n    let ENDPOINT = process.env.GATEWAY\n\n    useEffect(() => {\n        let socket = io(ENDPOINT, {\n                                    transports: ['websocket', 'polling', 'flashsocket'],\n                                    reconnection: true,\n                                    reconnectionAttempts: Infinity})\n        const interval = setInterval(() => {\n            console.log(\"kaputo@taxiconnect-delivery\")\n            socket.on(\"getDeliveryOverview-response\", (data) => {\n                if ((data !== undefined) && (data != null)) {\n                    /* Do something\n                    data.map((ride) => {\n                        console.log(ride)\n                    }) */\n                    setDeliveries(data)\n                    // Get inprogress, scheduled and completed data to update count state\n                    new Promise((res) => {\n                        progressScheduledCompleted(data, res)\n                    }).then((future) => {\n                        console.log(future)\n                        setInProgressCount(future.inprogress)\n                        setMoneyInProgress(future.moneyInprogress)\n                        setScheduledCount(future.scheduled)\n                        setMoneyScheduled(future.moneyScheduled)\n                        setCompletedCount(future.completed)\n                        setMoneyCompleted(future.moneyCompleted)\n                        setCompletedTodayCount(future.completed_today)\n                        setMoneyCompletedToday(future.moneyCompletedToday)\n                    }).catch((error) => {\n                        console.log(error)\n                    })\n                } else {\n                    console.log(data.error) // data.error ?\n                    alert(\"Something went wrong while retrieving Data\")\n                }\n            })\n            socket.emit(\"getDeliveryOverview\", {data: \"Get delivery-overview Data!\"})\n        },1000)\n\n        return( () => {\n            clearInterval(interval)\n        })\n    \n    }, [\n        // re-render whenever any of these changes\n        deliveries,\n        ENDPOINT\n    ])\n\n    /**\n     * @function deliveryListInProgress : returns the list of rides in progress\n     * @function deliveryListScheduled : returns the list of scheduled rides\n     * @function deliveyListCompleted : returns the list of completed rides\n     * \n     */\n    const deliveryListInProgress = () => {\n        return deliveries.map( currentDelivery => {\n            if ( !currentDelivery.isArrivedToDestination) {\n                \n                return <DeliveryRow delivery={currentDelivery}  />\n            } else { \n                //! Do nothing (Do not add the delivery to the list if not in progress)\n             }\n            \n        })\n    }\n\n    const deliveryListScheduled = () => {\n        return deliveries.map( currentDelivery => {\n            if ( currentDelivery.request_type === \"scheduled\") {\n                \n                return <DeliveryRow delivery={currentDelivery}  />\n            } else { \n                //! Do nothing (Do not add the delivery to the list if not scheduled)\n             }\n        })\n    }\n\n    const deliveryListCompleted = () => {\n        return deliveries.map( currentDelivery => {\n            if ( currentDelivery.isArrivedToDestination) {\n                \n                return <DeliveryRow delivery={currentDelivery}  />\n            } else { \n                //! Do nothing --> Do not add the delivery to the list if not completed\n                //! the delivery is completed upon confirmation of either driver or receiver\n                //! Further display difference of both shall be done upon rendering of the row\n             }\n        })\n    }\n\n    const title_style = {\n        textAlign: \"center\",\n        marginTop: 10,\n        marginBottom: 15\n    }\n    const subtitle_style = {\n        textAlign: \"center\",\n        marginTop: 5,\n        marginBottom: 10\n    }\n    const card = {\n        backgroundColor: \"#62bbde\"\n    }\n    const card_header = {\n        backgroundColor: \"#3183a3\",\n        \n    }\n\n    const today = () => {\n        return(\n           <div style= {{ backgroundColor: \"#cbd1d1\", marginTop: 0, padding: 15}}>\n               <h5 style={{ width: 35, margin: \"auto\" }}>TODAY</h5>\n                            <div id=\"container-low\">\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> N$ { moneyCompletedToday[\"totalCash\"]} \n                                        <span style={{ fontSize: 'small'}}> cash</span> \n                                    </h1>\n                                </div>\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> N$ { moneyCompletedToday[\"totalWallet\"]}\n                                        <span style={{ fontSize: 'small'}}> wallet</span> \n                                    </h1>\n                                </div>\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> N$ { moneyCompletedToday[\"totalCashWallet\"]} \n                                        <span style={{ fontSize: 'small'}}> total</span> \n                                    </h1>\n                                </div>\n                                <div >\n                                    <h1 style={{ fontSize: 'large', color:\"white\", textAlign: \"center\"}}> { CompletedTodayCount } \n                                        <span style={{ fontSize: 'small', }}> rides</span> \n                                    </h1>\n                                </div>\n\n                            </div>\n           </div>\n        )\n    }\n\n    return(\n       \n        <div>\n\n            <div className=\"wrapper\">\n                <div className=\"left-column\">\n                <Sidebar />\n                </div>\n                <div className=\"right-column\" >\n                    <h1 style={ title_style }> Deliveries Overview </h1>\n                    <div style= {{ marginLeft: 200, padding: 10}}>\n                        <button style={{ marginLeft: 25}} className=\"btn btn-info btn-sm \" onClick={ () => {\n                        setScheduled (false)\n                        setCompleted(false)\n                        setInProgress(true)  \n                        }}>Deliveries in progress [{ InprogressCount }]</button>\n\n                        <button style={{ marginLeft: 35}} className=\"btn btn-info btn-sm\" onClick={ () => {\n                        setInProgress (false)\n                        setCompleted(false)\n                        setScheduled(true)  \n                        }}>Scheduled Deliveries [{ ScheduledCount }]</button>\n\n                        <button style={{ marginLeft: 35}} className=\"btn btn-info btn-sm\" onClick={ () => {\n                        setInProgress (false)\n                        setCompleted(true)\n                        setScheduled(false)  \n                        }}>Completed Deliveries [{ CompletedCount }]</button>\n                    </div>\n\n                    <div style = {{ display: inProgress? \"\":\"none\" }}>\n                        \n                        <hr></hr>\n\n                        <div >\n                                <div className=\"container\">\n                                    <div className=\"row text-center\">\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                cash\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyInprogress[\"totalCash\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style= {card_header}>\n                                                wallet\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyInprogress[\"totalWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                Total  \n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyInprogress[\"totalCashWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                        </div>\n\n                        <hr></hr>\n                            \n                        { today() }\n\n                            <h3 style={ subtitle_style }>Deliveries in progress </h3>\n                        <table className=\"table\" style={{ textAlign: \"center\"}}>\n                            <thead className=\"thead-light\">\n                                <tr>\n                                 \n                                    <th>Taxi number</th>\n                                    <th>Origin</th>\n                                    <th>Request type</th>\n                                    <th>Date</th>\n                                    <th>Time requested</th>\n                                    <th>Item picked up</th>\n                                    <th>Dropped (Driver side) </th>\n                                    <th>Receiver</th>\n                                    <th>...</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                { deliveryListInProgress () }\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <div style = {{ display: scheduled? \"\":\"none\" }}>\n                        \n                        <hr></hr>\n                        <div >\n                                <div className=\"container\">\n                                    <div className=\"row text-center\">\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                cash\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyScheduled[\"totalCash\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style= {card_header}>\n                                                wallet\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyScheduled[\"totalWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                Total  \n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyScheduled[\"totalCashWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                        </div>\n\n                        <hr></hr>\n\n                        { today() }\n\n                        <h3 style={ subtitle_style }>Scheduled deliveries </h3>\n                        <table className=\"table\" style={{ textAlign: \"center\"}}>\n                            <thead className=\"thead-light\">\n                                <tr>\n                                   \n                                    <th>Taxi number</th>\n                                    <th>Origin</th>\n                                    <th>Request type</th>\n                                    <th>Date</th>\n                                    <th>Time requested</th>\n                                    <th>Item picked up</th>\n                                    <th>Item dropped off</th>\n                                    <th>Receiver</th>\n                                    <th>...</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                { deliveryListScheduled() }\n                            </tbody>\n                        </table>\n                    </div>\n\n                    <div style = {{ display: completed? \"\":\"none\" }}>\n                        \n                        <hr></hr>\n\n                        <div >\n                                <div className=\"container\">\n                                    <div className=\"row text-center\">\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                cash\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyCompleted[\"totalCash\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style= {card_header}>\n                                                wallet\n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyCompleted[\"totalWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"col-sm\">\n                                            <div className=\"card\" style={card}>\n                                            <div className=\"card-header\" style={card_header}>\n                                                Total  \n                                            </div>\n                                            <div className=\"card-body\">\n                                                <h3>N$ { moneyCompleted[\"totalCashWallet\"] }</h3>\n                                            </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                        </div>\n\n                        <hr></hr>\n\n                        { today() }\n\n                        <h3 style={ subtitle_style }>Completed deliveries </h3>\n                        <table className=\"table\" style={{ textAlign: \"center\"}}>\n                            <thead className=\"thead-light\">\n                                <tr>\n                                   \n                                    <th>Taxi number</th>\n                                    <th>Origin</th>\n                                    <th>Request type</th>\n                                    <th>Date</th>\n                                    <th>Time requested</th>\n                                    <th>Item picked up</th>\n                                    <th>Item dropped off</th>\n                                    <th>Receiver</th>\n                                    <th>...</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                { deliveryListCompleted() }\n                            </tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n   \n        </div>\n    \n    )\n}\n\nexport default DeliveryOverview","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/driversList/driverList.js",[],"/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/passengersList/passengerList.js",["61"],"import React, { useState, useEffect } from \"react\"\nimport Sidebar from \"../sidebar/sidebar\"\nimport io from \"socket.io-client\"\nimport \"./PassengerList.css\"\nimport { FaUserAlt } from \"react-icons/fa\"\nrequire(\"dotenv\").config({ path : \"../../../.env\"})\n\nconst PassengerRow = (props) => {\n    return(\n        <tr>\n            <td><FaUserAlt size={30}/></td>\n            <td>{ props.passenger.name}</td>\n            <td>{ props.passenger.surname }</td>\n            <td>{ props.passenger.gender }</td>\n            <td>{ props.passenger.phone_number }</td>\n            <td>{ props.passenger.email }</td>\n            <td>{ props.passenger.date_registered.date }</td>\n            <td>{ props.passenger.totaltrip }</td>\n        </tr>\n    )\n}\n\n\nfunction PassengerList() {\n\n    let [passengers, setPassengers] = useState([])\n    let [totalNewPassengerToday, setTotalNewPassengerToday] = useState(0)\n\n    let ENDPOINT = process.env.GATEWAY\n\n    useEffect(() => { \n        let socket = io(ENDPOINT, {\n                                    transports: ['websocket', 'polling', 'flashsocket'],\n                                    reconnection: true,\n                                    reconnectionAttempts: Infinity})\n        const interval = setInterval(() => {\n            console.log(\"passengerslist@taxiconnect\")\n            socket.on(\"getPassengers-feedback\", (data) => {\n                if ((data !== undefined) && (data != null)) {\n                    console.log(data)\n                    //mydata = data\n                    setPassengers(data)\n \n                }\n            });\n          \n            socket.emit(\"getPassengers\", {data:'getting passengers'})\n            \n            // Get the statistics \n            /*socket.on(\"statistics-response\", (data) => {\n\n                setTotalNewPassengerToday(data[\"totalNewPassengerToday\"])\n            });\n            socket.emit(\"statistics\", {data:'specs'}) */\n\n\n        }, 2000)\n\n        return( () => {\n            clearInterval(interval)\n        })\n    },[ // Re-render whenever any of the following variables changes\n        \n        ENDPOINT\n    ])\n\n    const passengerData = () => {\n        return passengers.map((passenger) => {\n            return <PassengerRow passenger={passenger} />\n        })\n        \n    }\n    const title_style = {\n        textAlign: \"center\",\n        marginTop: 10,\n        marginBottom: 15\n    }\n\n    //console.log(passengers) \n    return(\n        <div>\n            <div className=\"wrapper\">\n                <div className=\"left-column\">\n                <Sidebar />\n                </div>\n                <div className=\"right-column\" >\n                    <h2 style={ title_style }>Registered Users</h2>\n                    <hr></hr>\n                            <div id=\"container-driver\">\n                                \n                                <div>\n                                <h1 style={{ fontSize: 'large', color:\"black\", width: \"auto\"}}> Total sign up:  \n                                    <span style={{ fontSize: 'large', color:\"blue\"}}> { passengers.length } </span>  \n                                </h1>\n                                </div>\n                                <div>\n                                <h1 style={{ fontSize: 'large', color:\"black\", width: \"auto\"}}> New sign up (today):  \n                                    <span style={{ fontSize: 'large', color:\"blue\"}}> { totalNewPassengerToday } </span>  \n                                </h1>\n                                </div>\n                          \n                            </div>\n                    <hr></hr>\n\n                    <table className=\"table-striped\" style={{ margin: 15}}>\n                        <thead className=\"thead-light\">\n                            <tr>\n                                <th>Profile</th>\n                                <th>Name</th>\n                                <th>Surname</th>\n                                <th>Genger </th>\n                                <th>Phone</th>\n                                <th>Email</th>\n                                <th>Signed up</th>\n                                <th>Total trips</th>\n                            </tr>\n\n                        </thead>\n                        <tbody>\n                          { passengerData() }\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default PassengerList","/home/mack/Documents/Admin/Admin-App/client/adminui/src/components/partners/partnersAdmin.js",["62","63","64","65","66","67","68"],"import React, { useState, useEffect } from 'react'\nimport io from 'socket.io-client'\nimport { FaUserAlt } from \"react-icons/fa\"\nimport \"./partnersAdmin.css\"\nrequire(\"dotenv\").config({ path : \"../../../.env\"})\n\n\n/**\n * @function useLocalStorage: Works like useState except add persistence of data upon reload\n * @param {string} key \n * @param {any type} initialValue \n */\nfunction useLocalStorage(key, initialValue) {\n    // State to store our value\n    // Pass initial state function to useState so logic is only executed once\n    const [storedValue, setStoredValue] = useState(() => {\n      try {\n        // Get from local storage by key\n        const item = window.localStorage.getItem(key);\n        // Parse stored json or if none return initialValue\n        return item ? JSON.parse(item) : initialValue;\n      } catch (error) {\n        // If error also return initialValue\n        console.log(error);\n        return initialValue;\n      }\n    });\n  \n    // Return a wrapped version of useState's setter function that ...\n    // ... persists the new value to localStorage.\n    const setValue = value => {\n      try {\n        // Allow value to be a function so we have same API as useState\n        const valueToStore =\n          value instanceof Function ? value(storedValue) : value;\n        // Save state\n        setStoredValue(valueToStore);\n        // Save to local storage\n        window.localStorage.setItem(key, JSON.stringify(valueToStore));\n      } catch (error) {\n        // A more advanced implementation would handle the error case\n        console.log(error);\n      }\n    };\n  \n    return [storedValue, setValue];\n}\n\n// Driver row\n\nconst DriverRow = (props) => {\n    return(\n        <tr>\n            <td><FaUserAlt size={30}/></td>\n            <td>{ props.driver.name}</td>\n            <td>{ props.driver.surname }</td>\n            <td>{ props.driver.phone_number }</td>\n            <td>{ props.driver.taxi_number }</td>\n            <td>{ props.driver.plate_number }</td>\n            <td>{ props.driver.car_brand }</td>\n            <td>{ props.driver.status }</td>\n            <td> { props.driver.totalMoneyToday }</td>\n            <td>{ props.driver.totalmoney}</td> \n            <td>{ props.driver.todaytrip }</td>\n            <td>{ props.driver.totaltrip}</td>\n            \n        </tr>\n    )\n}\n\n// Initialize interval\nvar interval = null\n\nexport default function PartnersAdmin() {\n    // Initialize socket connection\n    var ENDPOINT = process.env.GATEWAY\n    var socket = io(ENDPOINT, {\n                    transports: ['websocket', 'polling', 'flashsocket'],\n                    reconnection: true,\n                    reconnectionAttempts: Infinity})\n    \n    //Initialize state variables\n    let [name, setName] = useState(null)\n    let [email, setEmail] = useState(null)\n    let [password, setPassword] = useState(null)\n   \n    // Use LocalStorage to preserve authentication state\n    let [authenticated, setAuthentication] = useLocalStorage(\"authenticated\", false)\n\n    let [partnerDrivers, setPartnerDrivers] = useState([])\n    let [driversCount, setDriversCount] = useState(5)\n    let [totalMoney, setTotalMoney] = useState(5) \n    let [totalMoneyToday, setTotalMoneyToday] = useState(5)\n    let [allData, setAllData] = useState({})\n\n \n    const [details, setDetails] = useLocalStorage(\"details\", {name:\"\", email:\"\", password:\"\"})\n    const [error, setError] = useState(\"\")\n    \n\n    useEffect(() => {\n        \n        if(authenticated) {\n            if(interval === null) {\n\n                interval = setInterval(() => {\n                    console.log(\"Counting......\")\n    \n                    socket.emit(\"getPartnerData\", { provider: details.name })\n        \n                    socket.on(\"getPartnerData-response\", (data) => {\n                        console.log(\"getting getPartnerData-response data\")\n\n                        /*let List = data.drivers_list.map((user) => {\n                            return new Promise((outcome) => {\n                                \n                            })\n                        })*/\n                        /*let total_money = data.total_money\n                        let total_money_today = data.total_money_today\n                        let drivers_count = data.drivers_count\n                        let mydata = data.drivers  */\n                        if ((data !== undefined) || (data != null)) {\n                            setPartnerDrivers([...data[\"drivers\"]])\n                            setTotalMoney(data[\"total_money\"])\n                            setTotalMoneyToday(data[\"total_money_today\"])\n                            setDriversCount(data[\"drivers_count\"])\n\n                            console.log(data)\n                            setAllData(data)\n                            console.log(`All data: ${allData}`)\n\n                            console.log(`total money: ${totalMoney}`)\n                            console.log(`total money today : ${totalMoneyToday}`) \n                            console.log(`drivers count: ${driversCount}`) \n                            console.log(`drivers list: ${partnerDrivers}`)\n                            //console.log(`DRIVERS: ${partnerDrivers[0].phone_number}`)\n                            console.log(partnerDrivers)\n                        }\n                        \n                    })                    \n                },1000)\n            }\n\n        }\n        \n        return(() => {\n            clearInterval(interval)\n        })\n       \n    }, [ENDPOINT, \n        /*details, \n        allData, \n        partnerDrivers,\n        totalMoney,\n        totalMoneyToday,\n        driversCount,\n        authenticated,\n        socket */\n    ])\n\n    const Logout = () => {\n        setAuthentication(false)\n       \n        setDetails({name:\"\", email:\"\", password:\"\"})\n        \n        return(() => {clearInterval(interval)})\n        \n    }\n\n    const submitHandler = e => {\n        e.preventDefault()\n        //Authenticate user:\n        socket.emit(\"authenticate\", {\n            name: details.name,\n            email: details.email,\n            password: details.password\n        })\n       \n        socket.on(\"authenticate-response\", (data) => {\n            \n            if(data.authenticated) {\n                //  Upon successful authentication:\n                setAuthentication(true)  \n                setName(details.name)\n                setEmail(details.email)\n                setPassword(details.password)\n              \n                if (interval === null ) {\n\n                    interval = setInterval(() => {\n                        console.log(\"Counting2......\")\n        \n                        socket.emit(\"getPartnerData\", {provider: details.name})\n            \n                        socket.on(\"getPartnerData-response\", (data) => {\n                            console.log(\"getting getPartnerData-response data\")\n                            \n                            /*let total_money = data.total_money\n                            let total_money_today = data.total_money_today\n                            let drivers_count = data.drivers_count\n                            let mydata = data.drivers_list*/\n\n                            setPartnerDrivers(data.drivers)\n                            setTotalMoney(data.total_money)\n                            setTotalMoneyToday(data.total_money_today)\n                            setDriversCount(data.drivers_count)\n\n                            console.log(`received data from socket\" ${data.total_money}`)\n                            console.log(`partners's total money2 : ${data.drivers[0]}`)\n                        })                    \n                    },1500) \n                }\n                             \n            }\n            else {\n\n                setError(\"No match found\")\n            }\n        })\n        \n    } \n    //\n    const driverData = () => {\n        return partnerDrivers.map((driver) => {\n            return <DriverRow driver={driver} />\n        })\n        \n    }\n\n    console.log(allData.drivers)\n    // styles:\n    const card = {\n        backgroundColor: \"#62bbde\"\n    }\n    const card_header = {\n        backgroundColor: \"#3183a3\",\n        \n    }\n    const form_style = {\n        width: 400,\n        margin: \"auto\",\n        marginTop: 100\n    }\n    // Returned content:\n    if (!authenticated) {\n        return(\n            \n            <div>\n                <form onSubmit={submitHandler} style={form_style}>\n                    <div className=\"form-inner\">\n                    <h2 style={{ width: 100, margin: \"auto\"}}>Login</h2>\n                    {(error != \"\") ? ( <div className=\"error\">{error}</div>) : \"\"}\n                    <div className=\"form-group\">\n                        <label htmlFor=\"name\">Name:</label>\n                        <input type=\"text\" name=\"name\" id=\"name\" className=\"form-control\"\n                                onChange={e => setDetails({...details, name: e.target.value})} value={details.name} >\n                        </input>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"email\">Email:</label>\n                        <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\"\n                                onChange={e => setDetails({...details, email: e.target.value})} value={details.email}>\n                        </input>\n                    </div>\n                    <div className=\"form-group\">\n                        <label htmlFor=\"password\">Password:</label>\n                        <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\"\n                                onChange={e => setDetails({...details, password: e.target.value})} value={details.password}>\n                        </input>\n                    </div>\n                    <input className=\"form-control\" type=\"submit\" value=\"LOGIN\" style={{ backgroundColor: \"#157ab0\"}}/>\n                    </div>\n                </form>\n            </div>\n        )\n\n    } else {\n        return(\n            <div >\n\n                <nav className=\"navbar navbar-expand-lg \" style={{ backgroundColor: \"#0b5054\"}}>\n                    <a className=\"navbar-brand\" href=\"#\" style={{color:\"white\", marginLeft: 100}}>Dashboard</a>\n\n                    <ul className=\"nav ml-auto\">\n                    <li className=\"nav-item\">\n                        <a className=\"nav-link active\" style={{marginRight: 45}}>\n                            <button className=\"btn btn-primary btn-sm\" type=\"submit\" onClick={Logout}>Logout\n                            </button></a>\n                    </li>\n                    \n                    </ul>\n                </nav>\n\n                <div className=\"jumbotron jumbotron-fluid text-center\">\n                    <div className=\"container\">\n                        <h1 className=\"display-4\">Welcome to your dashboard</h1>\n                        <p className=\"lead\">Additional data available upon request</p>\n                        <hr class=\"my-4\"></hr>\n                    </div>\n                </div>\n\n                <div className=\"container\">\n                    \n                    <div class=\"container\">\n                        <div class=\"row text-center\">\n                            <div class=\"col-sm\">\n                                <div className=\"card\" style={card}>\n                                <div className=\"card-header\" style={card_header}>\n                                    Registered drivers \n                                </div>\n                                <div className=\"card-body\">\n                                    <h3>{ driversCount }</h3>\n                                </div>\n                                </div>\n                            </div>\n                            <div class=\"col-sm\">\n                                <div className=\"card\" style={card}>\n                                <div className=\"card-header\" style= {card_header}>\n                                    Total fare\n                                </div>\n                                <div className=\"card-body\">\n                                    <h3>N$ { totalMoney }</h3>\n                                </div>\n                                </div>\n                            </div>\n                            <div class=\"col-sm\">\n                                <div className=\"card\" style={card}>\n                                <div className=\"card-header\" style={card_header}>\n                                    Total fare today \n                                </div>\n                                <div className=\"card-body\">\n                                    <h3>N$ { totalMoneyToday }</h3>\n                                </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n\n\n                 \n                    <br></br>\n                    \n                    <div className=\"card\">\n                        <div className=\"card-header\">\n                            Registered drivers \n                        </div>\n                        <div className=\"card-body\">\n                        <table className=\"table-striped\" style={{ margin: 15}}>\n                                <thead className=\"thead-light\">\n                                    <tr>\n                                        <th>Profile</th>\n                                        <th>Name</th>\n                                        <th>Surname</th>\n                                        <th>Phone </th>\n                                        <th>Taxi Number</th>\n                                        <th>Plate number</th>\n                                        <th>Car brand</th>\n                                        <th>Status</th>\n                                        <th>Daily profit</th>\n                                        <th>TotalProfit</th>\n                                        <th>Daily connect</th>\n                                        <th>Total connect</th>\n                                    </tr>\n\n                                </thead>\n                                <tbody>\n                                { driverData() }\n                                </tbody>\n                            </table> \n                            </div>\n                        </div>\n                </div>           \n            </div>\n        )\n    }\n}\n\n",{"ruleId":"69","replacedBy":"70"},{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","severity":1,"message":"74","line":2,"column":27,"nodeType":"75","messageId":"76","endLine":2,"endColumn":33},{"ruleId":"77","severity":1,"message":"78","line":189,"column":100,"nodeType":"79","messageId":"80","endLine":189,"endColumn":102},{"ruleId":"81","severity":1,"message":"82","line":25,"column":26,"nodeType":"83","messageId":"84","endLine":25,"endColumn":28},{"ruleId":"81","severity":1,"message":"85","line":318,"column":39,"nodeType":"83","messageId":"86","endLine":318,"endColumn":41},{"ruleId":"81","severity":1,"message":"85","line":329,"column":39,"nodeType":"83","messageId":"86","endLine":329,"endColumn":41},{"ruleId":"81","severity":1,"message":"85","line":340,"column":39,"nodeType":"83","messageId":"86","endLine":340,"endColumn":41},{"ruleId":"81","severity":1,"message":"82","line":23,"column":26,"nodeType":"83","messageId":"84","endLine":23,"endColumn":28},{"ruleId":"81","severity":1,"message":"85","line":304,"column":48,"nodeType":"83","messageId":"86","endLine":304,"endColumn":50},{"ruleId":"81","severity":1,"message":"85","line":316,"column":48,"nodeType":"83","messageId":"86","endLine":316,"endColumn":50},{"ruleId":"81","severity":1,"message":"85","line":327,"column":48,"nodeType":"83","messageId":"86","endLine":327,"endColumn":50},{"ruleId":"73","severity":1,"message":"87","line":27,"column":34,"nodeType":"75","messageId":"76","endLine":27,"endColumn":59},{"ruleId":"73","severity":1,"message":"88","line":83,"column":10,"nodeType":"75","messageId":"76","endLine":83,"endColumn":14},{"ruleId":"73","severity":1,"message":"89","line":84,"column":10,"nodeType":"75","messageId":"76","endLine":84,"endColumn":15},{"ruleId":"73","severity":1,"message":"90","line":85,"column":10,"nodeType":"75","messageId":"76","endLine":85,"endColumn":18},{"ruleId":"91","severity":1,"message":"92","line":151,"column":8,"nodeType":"93","endLine":160,"endColumn":6,"suggestions":"94"},{"ruleId":"77","severity":1,"message":"95","line":253,"column":29,"nodeType":"79","messageId":"80","endLine":253,"endColumn":31},{"ruleId":"96","severity":1,"message":"97","line":283,"column":21,"nodeType":"98","endLine":283,"endColumn":99},{"ruleId":"96","severity":1,"message":"99","line":287,"column":25,"nodeType":"98","endLine":287,"endColumn":82},"no-native-reassign",["100"],"no-negated-in-lhs",["101"],"no-unused-vars","'Router' is defined but never used.","Identifier","unusedVar","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","array-callback-return","Array.prototype.map() expects a return value from arrow function.","ArrowFunctionExpression","expectedInside","Array.prototype.map() expects a value to be returned at the end of arrow function.","expectedAtEnd","'setTotalNewPassengerToday' is assigned a value but never used.","'name' is assigned a value but never used.","'email' is assigned a value but never used.","'password' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'allData', 'authenticated', 'details.name', 'driversCount', 'partnerDrivers', 'socket', 'totalMoney', and 'totalMoneyToday'. Either include them or remove the dependency array.","ArrayExpression",["102"],"Expected '!==' and instead saw '!='.","jsx-a11y/anchor-is-valid","The href attribute requires a valid value to be accessible. Provide a valid, navigable address as the href value. If you cannot provide a valid href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","JSXOpeningElement","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/evcohen/eslint-plugin-jsx-a11y/blob/master/docs/rules/anchor-is-valid.md","no-global-assign","no-unsafe-negation",{"desc":"103","fix":"104"},"Update the dependencies array to be: [ENDPOINT, allData, authenticated, details.name, driversCount, partnerDrivers, socket, totalMoney, totalMoneyToday]",{"range":"105","text":"106"},[5496,5683],"[ENDPOINT, allData, authenticated, details.name, driversCount, partnerDrivers, socket, totalMoney, totalMoneyToday]"]